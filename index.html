<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">

<title>초대 입장</title>
<meta name="referrer" content="no-referrer">

<style>
  @import url('https://fonts.googleapis.com/css2?family=Jua&display=swap');

  body {
    margin: 0;
    padding: 0;
    background: #aeeaff;
    font-family: 'Jua', sans-serif;
  }

  .wrap {
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .card {
    background: white;
    padding: 28px;
    border-radius: 22px;
    box-shadow: 0 6px 25px rgba(0,0,0,0.15);
    width: 90%;
    max-width: 360px;
    text-align: center;
  }

  h1 {
    margin-top: 0;
    margin-bottom: 18px;
    color: #444;
    font-size: 26px;
  }

  input[type="password"] {
    width: 100%;
    padding: 14px;
    border-radius: 14px;
    border: 2px solid #cccccc;
    font-size: 17px;
    outline: none;
    margin-bottom: 14px;
  }

  button {
    width: 100%;
    padding: 14px;
    border: none;
    border-radius: 14px;
    background: #ff68b0;
    color: white;
    font-size: 17px;
    cursor: pointer;
    transition: 0.2s;
  }

  button:hover {
    background: #ff4fa4;
  }
</style>
</head>

<body>
<div class="wrap">
  <div class="card">
    <h1>비밀번호 입력</h1>
    <input id="pw" type="password" placeholder="비밀번호를 입력하세요">
    <button onclick="go()">입장하기</button>
  </div>
</div>

<script>
  /* 비밀번호 */
  const PASSWORD = "333333";

  /* 암호화된 링크 (사람이 봐도 원본 모름) */
  const ENCRYPTED = "QVdSQnJLMV9LQ21iX0paYkdwdnlYbGRMV2c9PQ==";

  /* 복호화 함수 (2중 처리) */
  function decodeLink(str) {
    return atob(atob(str));
  }

  function go() {
    const v = document.getElementById("pw").value.trim();
    if (!v) return;

    if (v === PASSWORD) {
      const real = decodeLink(ENCRYPTED);      // 원본 링크 복호화
      const app = "tiktoklite://link/?url=" + encodeURIComponent(real);  
      window.location.href = app;              // 앱으로 바로 실행
    } else {
      document.getElementById("pw").value = "";
      alert("비밀번호가 틀렸습니다!");
    }
  }
</script>

</body>
</html>